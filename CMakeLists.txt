CMAKE_MINIMUM_REQUIRED ( VERSION 2.8.1 FATAL_ERROR )

PROJECT ( wfv2 )

option (WFV_ENABLE_EXPERIMENTAL_MODEL "Enables experimental support for AVX2 memory access intrinsics" OFF)


SET ( PACKAGE_VERSION "2.0" )
SET ( CMAKE_CONFIGURATION_TYPES "Debug;Release" CACHE STRING "limited config" FORCE )
SET ( VECTOR_ISA "avx" CACHE STRING "Select target vector ISA: avx, neon" )

IF ( NOT CMAKE_BUILD_TYPE )
    SET ( CMAKE_BUILD_TYPE Debug CACHE STRING "Debug or Release" FORCE )
ENDIF ()

SET ( PROJ_ROOT_DIR    ${CMAKE_CURRENT_SOURCE_DIR} )
SET ( PROJ_SOURCE_DIR  ${PROJ_ROOT_DIR}/src )

SET ( PROJ_BINARY_DIR  "bin" )
SET ( PROJ_LIBRARY_DIR "lib" )
SET ( PROJ_INCLUDE_DIR "include" )

SET ( PROJ_NAME  ${PROJECT_NAME} )
STRING ( TOUPPER ${PROJ_NAME} PROJ_PREFIX )

SET ( CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/${PROJ_BINARY_DIR} )
SET ( CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/${PROJ_LIBRARY_DIR} )
SET ( CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/${PROJ_LIBRARY_DIR} )

SET ( CMAKE_MODULE_PATH ${PROJ_ROOT_DIR} ${CMAKE_MODULE_PATH} )

# libRV
SET ( LIBRARY_NAME RV )
ADD_SUBDIRECTORY ( ${PROJ_SOURCE_DIR} )

# rvTool
SET ( RVTOOL_SOURCE_DIR  ${PROJ_ROOT_DIR}/tools )
ADD_SUBDIRECTORY( ${RVTOOL_SOURCE_DIR} )
